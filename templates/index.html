{% extends 'base.html' %}

{% block title %} عسل طهران | فروشگاه اینترنتی عسل {% endblock %}

{% block metasesc %}عسل طهران ، بزرگترین فروشگاه اینترنتی عسل طبیعی و دارویی ، گرده گل  و ژل رویال{% endblock %}


{% block header %}
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">


<style>
  

*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --grid-column-gap: 20px;
}

/* body{
    padding: 20px;
} */

.carouselPre{
    grid-auto-flow: column;
    display: grid;
    grid-auto-columns: calc((100% - 3 * var(--grid-column-gap))/ 4);
    grid-column-gap: var(--grid-column-gap);
    scroll-snap-type: x mandatory;
    overflow-x: scroll;
    overflow-y: hidden;
    list-style: none;
    scroll-behavior: smooth;
    
}

#title{
    margin: 10px 10px 10px 0;
    font-size: 34px;
    font-weight: 600;
}

.topT{
    border-top: 1px solid rgb(212, 212, 212);
    padding: 10px 0;
    font-weight: 600;
    font-size: 30px;
}

.itemsC .textDet{
    position: absolute;
    bottom: 0;
    height: 60px;
    width: 100%;
    /* display: flex; */
}

.contents{
    color: white;
}

.itemsC .contents p{    
    -webkit-line-clamp: 3;
    /* text-align: center; */
    display: -webkit-box;
    overflow: hidden;
    -webkit-box-orient: vertical;
    font-size: 12px;
    line-height: 1.25;
    font-weight: 400;
    width: 90%;
    margin: auto;
}

.leftTxtDet{
    position: absolute;
    text-align: center;
    width: 100%;
    top: 33px;
}

.itemsC{
    position: relative;
}

.scrolly{
    overflow: hidden;
}

.carouselPre li{
  border: 4px solid #ffae00;
    scroll-snap-align: start;
    width: 100%;
    height: 100%;
    /* background-color: royalblue; */
    list-style: none;
    border-radius: 20px;
    overflow: hidden;
}

.carouselPre li .bgImg{
    width: 100%;
    height: 100%;
}

.carouselPre li img{
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.scrolly{
    position: relative;
}

#left,#right{
    background-color: rgba(255, 255, 255, 0.9);
    outline: none;
    border: transparent;
    border-radius: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    position: absolute;
    top: 50%;
    transform: translate(0,-60%);
    cursor: pointer;
    z-index: 2;
}

#left{
    left: 0;
}

#right{
    right: 0;
}

@media only screen and (max-width: 890px) {
    .carouselPre {
        grid-auto-columns: calc((100% - 2 * var(--grid-column-gap))/ 3);
        height: 23rem;
    }
  }

@media only screen and (max-width: 660px) {
    .carouselPre {
        grid-auto-columns: calc((100% - 1 * var(--grid-column-gap))/ 2);
        height: 25rem;
    }
  }

@media only screen and (max-width: 440px) {
    .carouselPre {
        grid-auto-columns: 100%;
        height: 25rem;
    }
  }


::-webkit-scrollbar {    
  width: 15px;
height: 15px;
border-left: #ededed solid 1px;
background-color: #fcfcfc;
border-top: #ededed solid 1px;
    }

::-webkit-scrollbar-thumb:hover{
cursor: pointer;
background: #c7c7c7;
width: 15px;
    background-clip: content-box;
    border: 4px solid transparent;
border-radius: 10px;
}

    ::-webkit-scrollbar-button {   
 display: none;
    }

    ::-webkit-scrollbar-thumb {
    background: #dbdbdb;
    background-clip: content-box;
    border: 4px solid transparent;
    border-radius: 10px;

    }




</style>



{% endblock %}


{% block body %}




<div class="d-block d-md-none" style="width: 30px; margin-top: -80px;" ></div>
<div style="width: 30px; margin-top: -35px;" ></div>

<div style="direction: rtl;margin-top: 30px;">
    <br>
    {% with messages = get_flashed_messages(True) %}
    {% if messages %}
    <div class="row">
        {% for message in messages %}
        <div class="card {{message[0]}} text-white">
            <div class="card-body">
                {{ message[1] }}
            </div>
        </div>
        {% endfor %}

    </div>
    {% endif %}
    {% endwith %}
</div>

<!-- <div style="width: 30px; margin-top: -35px;" ></div> -->


<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">

        <!-- <a href="{{ slider_1.link }}"> -->
            <div class="carousel-item active">
                <img style="width: 100%; max-height: 500px;border-radius: 10px;" src="{{url_for('static' , filename=slider_1.image)}}" alt="{{ slider_1.title }}">
                <div class="carousel-caption d-none d-md-block">
                    <h5>{{slider_1.title}}</h5>
                   </div>
              </div>
            <!-- </a> -->

        {% for slider in sliders %}
        <!-- <a href="{{ slider.link }}"> -->
        <div class="carousel-item">
            <img style="width: 100%; max-height: 500px;border-radius: 10px;" src="{{url_for('static' , filename=slider.image)}}" alt="{{ slider.title }}">
            <div class="carousel-caption d-none d-md-block">
                <h5>{{slider.title}}</h5>
               </div>
          </div>
        <!-- </a> -->
        {% endfor %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>


  

<br><br>


    <!-- <h1 id="title">Listen Now</h1> -->

    <div class="scrolly text-right">
        <h2 style="font-size: 20px;" class="topT">دسته بندی ها</h2>
        <button id="left"><span class="material-icons">chevron_left</span></button>
        <button id="right"><span class="material-icons">chevron_right</span></button>
    <ul style="max-height: 250px;" class="carouselPre">
      {% for group in groups %}
      <a  href="{{ url_for('users.single_group' , slug = group.title) }}">

      <li style="max-height: 250px;" class="itemsC">

            <div class="bgImg"><img src="{{ url_for('static' , filename=group.image_urlfor) }}" alt="group.title"></div>
        
            <div class="contents text-center">
              <h1 class="leftTxtDet"></h1>
              <div style="background-image: linear-gradient( rgba(255,0,0,0), rgb(223, 212, 65));" class="textDet">
                <p style="font-size: large;" class="text-white">{{ group.title }}</p>
                <p style="font-size: small; margin-top: 10px;" class="text-white">ــــــ  {{ group.description }}  ــــــ</p>
              </div>
          </div>
        
          </li>
        </a>
          {% endfor %}

    </ul>
</div>








<div class="scrolly text-right">
    <h2 style="margin-top: 40px;font-size: 20px;" class="topT">عسل ها</h2>
    <button id="left"><span class="material-icons">chevron_left</span></button>
    <button id="right"><span class="material-icons">chevron_right</span></button>
<ul class="carouselPre">
  {% for mahsol in all_mahsolat %}
  <a href="{{ url_for('users.single_mahsol' , slug = mahsol.title) }}">

  <li class="itemsC">

        <div class="bgImg"><img src="{{ url_for('static' , filename=mahsol.image) }}" alt="mahsol.title"></div>
    
        <div class="contents text-left">
          <h1 class="leftTxtDet"></h1>
          <div style="background-color: #ffae00;" class="textDet">
            <center><p style="font-size: large;" class="text-white">{{ mahsol.title }}</p></center>
            <p style="font-size: medium; margin-top: 10px;" class="text-white">{{ mahsol.price_1kg }} ت</p>
            <br>
        </div>
      </div>
    
      </li>
    </a>
      {% endfor %}

</ul>
</div>






 <br>
<div class="row">
{% for monasebat in monasebat %}
<div style=" margin-top: 10px;" class="col-12 col-sm-6">
    <a href="{{monasebat.link}}">
        <img style="width: 100%; height: 100%;border-radius: 20px;" src="{{url_for('static' , filename=monasebat.image)}}" alt="{{monasebat.title}}">
    </a>
</div>
{% endfor %}

</div> 




<div class="scrolly text-right">
    <h2 style="margin-top: 40px;font-size: 20px;" class="topT">دیگر فراورده های عسلی</h2>
    <button id="left"><span class="material-icons">chevron_left</span></button>
    <button id="right"><span class="material-icons">chevron_right</span></button>
<ul class="carouselPre">
  {% for mahsol in royals %}
  <a href="{{ url_for('users.single_royal' , slug = mahsol.title) }}">

  <li class="itemsC">

        <div class="bgImg"><img src="{{ url_for('static' , filename=mahsol.image) }}" alt="mahsol.title"></div>
    
        <div class="contents text-left">
          <h1 class="leftTxtDet"></h1>
          <div style="background-color: #ffae00;" class="textDet">
            <center><p style="font-size: large;" class="text-white">{{ mahsol.title }}</p></center>
            <p style="font-size: medium; margin-top: 10px;" class="text-white">{{ mahsol.price }} ت</p>
            <br>
        </div>
      </div>
    
      </li>
    </a>
      {% endfor %}
    
      {% for mahsol in baremooms %}
      <a href="{{ url_for('users.single_baremoom' , slug = mahsol.title) }}">
    
      <li class="itemsC">
    
            <div class="bgImg"><img src="{{ url_for('static' , filename=mahsol.image) }}" alt="mahsol.title"></div>
        
            <div class="contents text-left">
              <h1 class="leftTxtDet"></h1>
              <div style="background-color: #ffae00;" class="textDet">
                <center><p style="font-size: large;" class="text-white">{{ mahsol.title }}</p></center>
                <p style="font-size: medium; margin-top: 10px;" class="text-white">{{ mahsol.price_100g }} ت</p>
                <br>
            </div>
          </div>
        
          </li>
        </a>
          {% endfor %}

          {% for mahsol in garde_gols %}
          <a href="{{ url_for('users.single_garde' , slug = mahsol.title) }}">
        
          <li class="itemsC">
        
                <div class="bgImg"><img src="{{ url_for('static' , filename=mahsol.image) }}" alt="mahsol.title"></div>
            
                <div class="contents text-left">
                  <h1 class="leftTxtDet"></h1>
                  <div style="background-color: #ffae00;" class="textDet">
                    <center><p style="font-size: large;" class="text-white">{{ mahsol.title }}</p></center>
                    <p style="font-size: medium; margin-top: 10px;" class="text-white">{{ mahsol.price_100g }} ت</p>
                    <br>
                </div>
              </div>
            
              </li>
            </a>
              {% endfor %}

</ul>
</div>








<section  style="direction: rtl;margin-top: 20px;" class="from-blog spad text-right">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title from-blog__title">
                    <h2 style="font-size: 20px;">وبلاگ</h2>
                </div>
            </div>
        </div>
        <div class="row">
            {% for blog in blog_3 %}

            <div style="margin-top: 10px;" class="col-lg-4 col-md-4 col-sm-6">
                <div style="border: 3px solid #ffae00; border-radius: 5px;"  class="blog__item">
                    <div class="blog__item__pic">
                        <img style="width: 100%;" src="{{url_for('static' , filename=blog.image)}}" alt="{{blog.title}}">
                    </div>
                    <div class="blog__item__text card">
                        <ul>
                            <li><i class="fa fa-calendar-o"></i>{{blog.date}}</li>
                            <!-- <li><i class="fa fa-comment-o"></i> ۵</li> -->
                        </ul>
                        <center>
                            <h5><a href="{{ url_for('users.single_blog' , slug = blog.slug) }}">{{blog.title}}</a></h5>
                            <p>{{blog.metacontent}}</p>
                        </center>
                    </div>
                </div>
            </div>

            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}



{% block script %}

<script>
  outtester = document.getElementsByClassName('scrolly');
for(var i = 0; i < outtester.length; i++){
scrollification('scrolly', setyup = {
    i: i,
    scrollCont: '.carouselPre', 
    itemsScroll: '.itemsC',
    customButtons: true, 
    butLeft: '#left', 
    butRight: '#right'})
}
function scrollification(mainConter ,setyup = {i, scrollcont, itemsScroll, customButtons, butLeft, butRight}){
    if(setyup.i == null){
        out = document.getElementsByClassName(mainConter)[0];
    }else{
        out = document.getElementsByClassName(mainConter)[setyup.i];
    }
    
    if(setyup.customButtons == true){
        l = out.querySelector(setyup.butLeft);
        r = out.querySelector(setyup.butRight);
    }

var out,
a = out.querySelector(setyup.scrollCont),l, r,
q =  out.querySelectorAll(setyup.itemsScroll);

$(l).click(function(){getBack();});

$(r).click(function(){getNext();});

function getNext(){
    for(var i = 0; i < q.length; i++){
        if(q[i].getBoundingClientRect().left <= a.getBoundingClientRect().left + 50){
            var index = q[i].offsetWidth;
            $(a).scrollLeft($(a).scrollLeft() + index);
        }
    }
}
function getBack(){
for(var i = 1; i < q.length; i++){
    if(q[i].getBoundingClientRect().left < a.getBoundingClientRect().left + 50){
        var index = q[i - 1].offsetWidth;
        $(a).scrollLeft($(a).scrollLeft() - index);}}}
}

</script>


{% endblock %}
